Starting solver test...

🧪 Testing Current Solver Configuration

============================================================
📅 Loading pre-scheduled data...
  - Pre-scheduled weeks: 1
  - Pre-scheduled games: 16
  - Teams with pre-scheduled games: 32

📋 Generating matchups...
🔍 Division AFC_North: 4 teams
🔍 Division AFC_South: 4 teams
🔍 Division AFC_East: 4 teams
🔍 Division AFC_West: 4 teams
🔍 Division NFC_North: 4 teams
🔍 Division NFC_South: 4 teams
🔍 Division NFC_East: 4 teams
🔍 Division NFC_West: 4 teams
🔍 Division games generated: 96
🔍 Conference AFC: shortDivisions=North,South,East,West, intraMatchups=[["North","South"],["East","West"]]
🔍 Conference NFC: shortDivisions=North,South,East,West, intraMatchups=[["North","South"],["East","West"]]
🔍 Intra-conference games generated: 64
🔍 Inter-conference matchups for year 2026: [
  [ 'AFC_North', 'NFC_South' ],
  [ 'AFC_South', 'NFC_East' ],
  [ 'AFC_East', 'NFC_West' ],
  [ 'AFC_West', 'NFC_North' ]
]
🔍 Inter-conference games generated: 64
🔍 Same-place finisher games generated: 32
🔍 Teams needing extra game: 32
  🏈 17th game #1: packers @ ravens
    ✅ Removed ravens and packers from pool (30 teams remaining)
  🏈 17th game #2: lions @ browns
    ✅ Removed browns and lions from pool (28 teams remaining)
  🏈 17th game #3: bears @ bengals
    ✅ Removed bengals and bears from pool (26 teams remaining)
  🏈 17th game #4: steelers @ vikings
    ✅ Removed steelers and vikings from pool (24 teams remaining)
    🔄 Fallback: texans matched with falcons (different rank/division)
  🏈 17th game #5: texans @ falcons
    ✅ Removed texans and falcons from pool (22 teams remaining)
    🔄 Fallback: colts matched with panthers (different rank/division)
  🏈 17th game #6: panthers @ colts
    ✅ Removed colts and panthers from pool (20 teams remaining)
    🔄 Fallback: jaguars matched with saints (different rank/division)
  🏈 17th game #7: saints @ jaguars
    ✅ Removed jaguars and saints from pool (18 teams remaining)
    🔄 Fallback: titans matched with buccaneers (different rank/division)
  🏈 17th game #8: titans @ buccaneers
    ✅ Removed titans and buccaneers from pool (16 teams remaining)
    🔄 Fallback: bills matched with cowboys (different rank/division)
  🏈 17th game #9: bills @ cowboys
    ✅ Removed bills and cowboys from pool (14 teams remaining)
    🔄 Fallback: dolphins matched with eagles (different rank/division)
  🏈 17th game #10: eagles @ dolphins
    ✅ Removed dolphins and eagles from pool (12 teams remaining)
    🔄 Fallback: jets matched with giants (different rank/division)
  🏈 17th game #11: giants @ jets
    ✅ Removed jets and giants from pool (10 teams remaining)
    🔄 Fallback: patriots matched with commanders (different rank/division)
  🏈 17th game #12: patriots @ commanders
    ✅ Removed patriots and commanders from pool (8 teams remaining)
    🔄 Fallback: chiefs matched with cardinals (different rank/division)
  🏈 17th game #13: cardinals @ chiefs
    ✅ Removed chiefs and cardinals from pool (6 teams remaining)
    🔄 Fallback: raiders matched with rams (different rank/division)
  🏈 17th game #14: rams @ raiders
    ✅ Removed raiders and rams from pool (4 teams remaining)
    🔄 Fallback: chargers matched with 49ers (different rank/division)
  🏈 17th game #15: 49ers @ chargers
    ✅ Removed chargers and 49ers from pool (2 teams remaining)
    🔄 Fallback: broncos matched with seahawks (different rank/division)
  🏈 17th game #16: broncos @ seahawks
    ✅ Removed broncos and seahawks from pool (0 teams remaining)
🔍 Extra 17th games generated: 16
🔍 Generated matchups: 272
🔍 Rotation year: 2026
🔍 Divisions: [
  'AFC_North',
  'AFC_South',
  'AFC_East',
  'AFC_West',
  'NFC_North',
  'NFC_South',
  'NFC_East',
  'NFC_West'
]
🔍 Conferences: [ 'AFC', 'NFC' ]
📊 Matchup Statistics:
   Division Games: 96 (expected: 96)
   Intra-Conference Games: 96 (expected: 96)
   Inter-Conference Games: 80 (expected: 80)
   Total Games: 272 (expected: 272)
  - Total matchups generated: 272
  🔍 Filtering out pre-scheduled matchup: titans @ jaguars
  🔍 Filtering out pre-scheduled matchup: jaguars @ titans
  🔍 Filtering out pre-scheduled matchup: dolphins @ bills
  🔍 Filtering out pre-scheduled matchup: bills @ dolphins
  🔍 Filtering out pre-scheduled matchup: giants @ cowboys
  🔍 Filtering out pre-scheduled matchup: cowboys @ giants
  🔍 Filtering out pre-scheduled matchup: colts @ browns
  🔍 Filtering out pre-scheduled matchup: jets @ chiefs
  🔍 Filtering out pre-scheduled matchup: patriots @ broncos
  🔍 Filtering out pre-scheduled matchup: bears @ falcons
  🔍 Filtering out pre-scheduled matchup: commanders @ 49ers
  🔍 Filtering out pre-scheduled matchup: ravens @ panthers
  🔍 Filtering out pre-scheduled matchup: bengals @ saints
  🔍 Filtering out pre-scheduled matchup: texans @ eagles
  🔍 Filtering out pre-scheduled matchup: lions @ chargers
  🔍 Filtering out pre-scheduled matchup: steelers @ vikings
  - Matchups for solver: 256
  - Matchups already scheduled: 16

📊 Expected Statistics:
  - Total games needed: 272
  - Pre-scheduled games: 16
  - Solver needs to schedule: 256
  - Teams: 32
  - Weeks: 18 (solver responsible for 2-18)

🔧 Creating solver with current configuration...
  Constraints:
    - maxGamesPerWeek: 18
    - byeWeekDistribution: balanced
    - preventConsecutiveRematches: true (DISABLED in solver, moved to postprocessing)
    - Primetime: ALL DISABLED
    - Consecutive rematches: DISABLED (moved to postprocessing)
    - Team week constraints: DISABLED (redundant)

⏳ Solving (this may take a while)...
  - Timeout: 5 minutes (300 seconds)
  - If this hangs, press Ctrl+C after 30 seconds

🧮 Initializing GLPK solver...
📋 Creating linear programming problem...
🔧 Variables created: 4352 (for 256 matchups × 17 solver weeks)
  🔍 First matchup constraint has 17 variables (expected: 17)
     Variables: x_0_2, x_0_3, x_0_4, x_0_5, x_0_6...
  📅 Team ravens: 1 pre-scheduled, 16 to solve
  📅 Team browns: 1 pre-scheduled, 16 to solve
  📅 Team bengals: 1 pre-scheduled, 16 to solve
  📅 Team steelers: 1 pre-scheduled, 16 to solve
  📅 Team texans: 1 pre-scheduled, 16 to solve
  📅 Team colts: 1 pre-scheduled, 16 to solve
  📅 Team jaguars: 1 pre-scheduled, 16 to solve
  📅 Team titans: 1 pre-scheduled, 16 to solve
  📅 Team bills: 1 pre-scheduled, 16 to solve
  📅 Team dolphins: 1 pre-scheduled, 16 to solve
  📅 Team jets: 1 pre-scheduled, 16 to solve
  📅 Team patriots: 1 pre-scheduled, 16 to solve
  📅 Team chiefs: 1 pre-scheduled, 16 to solve
  📅 Team raiders: 1 pre-scheduled, 16 to solve
  📅 Team chargers: 1 pre-scheduled, 16 to solve
  📅 Team broncos: 1 pre-scheduled, 16 to solve
  📅 Team bears: 1 pre-scheduled, 16 to solve
  📅 Team lions: 1 pre-scheduled, 16 to solve
  📅 Team packers: 1 pre-scheduled, 16 to solve
  📅 Team vikings: 1 pre-scheduled, 16 to solve
  📅 Team falcons: 1 pre-scheduled, 16 to solve
  📅 Team panthers: 1 pre-scheduled, 16 to solve
  📅 Team saints: 1 pre-scheduled, 16 to solve
  📅 Team buccaneers: 1 pre-scheduled, 16 to solve
  📅 Team cowboys: 1 pre-scheduled, 16 to solve
  📅 Team eagles: 1 pre-scheduled, 16 to solve
  📅 Team giants: 1 pre-scheduled, 16 to solve
  📅 Team commanders: 1 pre-scheduled, 16 to solve
  📅 Team cardinals: 1 pre-scheduled, 16 to solve
  📅 Team rams: 1 pre-scheduled, 16 to solve
  📅 Team 49ers: 1 pre-scheduled, 16 to solve
  📅 Team seahawks: 1 pre-scheduled, 16 to solve
  ⏭️  Week 1 is pre-scheduled, skipping bye week constraint
  ⏭️  Week 1 is pre-scheduled, skipping balanced distribution constraint
🔧 GLPK Problem Stats (CORE CONSTRAINTS ONLY):
  - Variables: 4352
  - Constraints: 356
  - Matchups: 256
  - Teams: 32
  - Weeks: 18
  ✅ Bye weeks prevented in weeks 1-4 and 15-18
  ✅ Inter-conference distribution limits
  ✅ Maximum 6 teams on bye per week
  ✅ Balanced weekly distribution
  ✅ Constraint ordering optimized (EQUALITY → TIGHT → INEQUALITIES → COMPLEX)
  ⚠️  PRIMETIME CONSTRAINTS DISABLED (too complex for solver)
    - Game times will be assigned in postprocessing phase
    - This significantly reduces solver complexity
  - Consecutive rematches prevented: true
  - Sample constraints: [
  {
    name: 'matchup_0_exactly_once',
    vars: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ],
    bnds: { type: 5, lb: 1, ub: 1 }
  },
  {
    name: 'matchup_1_exactly_once',
    vars: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ],
    bnds: { type: 5, lb: 1, ub: 1 }
  }
]
🔍 Constraint breakdown:
  - Matchup constraints: 256
  - Team game constraints: 32
  - Bye week constraints: 17
  - Max games per week: 17
  - Inter-conference: 17
  - Self-matchup prevention: 0
🔧 Binary variables: 4352 total
🔧 Solving with GLPK (this may take a while)...
   - Variables: 4352
   - Constraints: 356
   - Timeout: 5 minutes (300 seconds)
   - Please be patient, this is a complex optimization problem...
glp_simplex: unable to recover undefined or non-optimal solution
🔍 GLPK Result Summary:
  - Time: 0.657ms
  - Status: 1
  - Objective: 0
  - Variables set: 0
🔍 GLPK Status Code: 1
🔍 Extracting solution from GLPK result...
  - Result vars: 4352
  - Variables set to 1: 0
  ⚠️  LP relaxation returned no scheduled games!
  🔄 Using greedy heuristic to create schedule instead...
  🎲 CSP backtracking scheduler started...
     (This may take 30-60 seconds for a complete solution)
    📋 Matchups: 105 division, 91 conference, 60 inter-conference
    🔄 Using backtracking to schedule across 17 weeks...
